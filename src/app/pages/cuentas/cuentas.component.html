<section class="container nuevacuenta animated fadeIn fast">

    <div class="bloque-float animated fadeIn fast">
        <h1>Administrar cuentas</h1>
        <button routerLink="/mi-espacio" class="btn-sinfondo puntero">
            <span>Atrás</span><i class="fa-solid fa-circle-arrow-left"></i>
        </button>
    </div>


    <div class="animated fadeIn fast mostrar-cuentas bloque-content">

        <div class="buscador-cuenta">
            <form>
                <label>Buscar cuenta</label>
                <input class="largo" type="text" placeholder="¿Cómo se llama la cuenta?" #buscarTexto
                (keyup)="buscar(buscarTexto.value)">
            </form>
        </div>

        <h2 class="title-h2">Listado de cuentas</h2>

        <div class="div" *ngIf="!buscadorActivo">
            <article class="cuenta-info animated fadeIn fast" *ngFor="let cuenta of infoCuentas; let i = index">

                <div class="cabecera">
    
                    <h2>
                        <span class="color-text"> {{ cuenta.identificador }} / ({{ cuenta.tipo.codigo }}) {{ cuenta.tipo.nombre }}</span>
                        <span class="bold color-text">{{ cuenta.nombreCuenta }}</span>
                        <span class="descripcion">{{ cuenta.descripcion }}</span>
                    </h2>
    
                    <div class="cantidades">
                        <div class="cantidad">
                            <span class="bold color-text">Debe:</span>
                            <span>{{ cuenta.debe | miles }}{{ moneda.simboloMoneda }}</span>
                        </div>
                        <div class="cantidad">
                            <span class="bold color-text">Haber:</span>
                            <span>{{ cuenta.haber | miles }}{{ moneda.simboloMoneda }}</span>
                        </div>
                        <div class="cantidad">
                            <span class="bold color-text">Saldo:</span>
                            <span [style.color]="colorPositivo" class="bold">{{ cuenta.saldo | miles }}{{ moneda.simboloMoneda }}</span>
                        </div>
                    </div>
    
                    <button type="button" title="Ver movimientos" class="puntero btn"
                        [routerLink]="['/movimiento-cuenta', cuenta.id]">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <button type="button" title="Modificar cuenta" class="puntero btn"
                        [routerLink]="['/modificar-cuenta', cuenta.id]">
                        <i class="fa-regular fa-pen-to-square"></i>
                    </button>
    
                </div>
                
            </article>
        </div>

        <div class="div" *ngIf="buscadorActivo">
            <article class="cuenta-info animated fadeIn fast" *ngFor="let cuenta of cuentaBuscador; let i = index">

                <div class="cabecera">
    
                    <h2>
                        <span class="color-text"> {{ cuenta.identificador }} / ({{ cuenta.tipo.codigo }}) {{ cuenta.tipo.nombre }}</span>
                        <span class="bold color-text">{{ cuenta.nombreCuenta }}</span>
                        <span class="descripcion">{{ cuenta.descripcion }}</span>
                    </h2>
    
                    <div class="cantidades">
                        <div>
                            <span class="bold color-text">Debe:</span>
                            <span>{{ cuenta.debe | miles }}{{ moneda.simboloMoneda }}</span>
                        </div>
                        <div>
                            <span class="bold color-text">Haber:</span>
                            <span>{{ cuenta.haber | miles }}{{ moneda.simboloMoneda }}</span>
                        </div>
                        <div>
                            <span class="bold color-text">Saldo:</span>
                            <span [style.color]="colorPositivo" class="bold">{{ cuenta.saldo | miles }}{{ moneda.simboloMoneda }}</span>
                        </div>
                    </div>
    
                    <button type="button" title="Ver movimientos" class="puntero btn"
                        [routerLink]="['/movimiento-cuenta', cuenta.id]">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <button type="button" title="Modificar cuenta" class="puntero btn"
                        [routerLink]="['/modificar-cuenta', cuenta.id]">
                        <i class="fa-regular fa-pen-to-square"></i>
                    </button>
    
                </div>
                
            </article>
        </div>

        <div class="space" [style.display]="estado"></div>

    </div>


</section>
