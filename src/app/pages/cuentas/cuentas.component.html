<div class="container-principal">
    <aside class="animated fadeIn fast">
        <app-aside></app-aside>
    </aside>

<section class="container nuevacuenta animated fadeIn fast">

    <div class="bloque-float animated fadeIn fast">
        <h1>Administrar cuentas</h1>
        <button routerLink="/mi-espacio" class="btn-sinfondo puntero">
            <span>Atrás</span><i class="fa-solid fa-circle-arrow-left"></i>
        </button>
    </div>


    <div class="animated fadeIn fast mostrar-cuentas bloque-content">

        <div class="buscador-cuenta">
            <form>
                <label>Buscar cuenta</label>
                <input class="largo" type="text" placeholder="¿Cómo se llama la cuenta?" #buscarTexto
                (keyup)="buscar(buscarTexto.value)">
            </form>
        </div>

        <div class="lista-cuentas" *ngIf="!buscadorActivo">
            <article class="cuenta-info animated fadeIn fast" 
                    *ngFor="let cuenta of infoCuentas; let i = index"
                    [class.cuenta-pasivo]="cuenta.tipo.apunte === 'pasivo'">

                    <div class="etiqueta-activo">
                        <span [style.color]="colorPositivo" class="bold" [class.cantidad-pasivo]="cuenta.tipo.apunte === 'pasivo'">
                            {{ cuenta.saldo | miles }}{{ moneda.simboloMoneda }}
                        </span>
                    </div>

                    <div class="anillas"></div>

                <div class="cabecera">
                    
                    <h2 class="titulo-cuentas">
                        <span class="bold color-text nombreCuenta">{{ cuenta.nombreCuenta }}</span>
                        <span class="color-text"> {{ cuenta.identificador }} / ({{ cuenta.tipo.codigo }}) {{ cuenta.tipo.nombre }}</span>
                    </h2>
    
                    <div class="cantidades">
                        <div class="cantidad">
                            <span class="bold color-text debe">Debe:</span>
                            <span class="cantidad-cuenta" *ngFor="let sumaDebe of cuenta.debe" [class.sutil]="sumaDebe.cantidad === '0.00'">
                                ({{ sumaDebe.asiento }}) {{ sumaDebe.cantidad | miles }}{{ moneda.simboloMoneda }}
                            </span>
                        </div>
                        <div class="cantidad">
                            <span class="bold color-text haber">Haber:</span>
                            <span class="cantidad-cuenta" *ngFor="let sumaHaber of cuenta.haber" [class.sutil]="sumaHaber.cantidad === '0.00'">
                                ({{ sumaHaber.asiento }}) {{ sumaHaber.cantidad | miles }}{{ moneda.simboloMoneda }}
                            </span>
                        </div>
                    </div>
    
                    <button type="button" title="Modificar cuenta" class="puntero btn-cuentas"
                        [routerLink]="['/modificar-cuenta', cuenta.id]">
                        <i class="fa-regular fa-pen-to-square"></i>
                    </button>
    
                </div>
                
            </article>
        </div>

        <div class="lista-cuentas" *ngIf="buscadorActivo">
            <article class="cuenta-info animated fadeIn fast" 
                    *ngFor="let cuenta of cuentaBuscador; let i = index"
                    [class.cuenta-pasivo]="cuenta.tipo.apunte === 'pasivo'">

                    <div class="etiqueta-activo">
                        <span [style.color]="colorPositivo" class="bold" [class.cantidad-pasivo]="cuenta.tipo.apunte === 'pasivo'">
                            {{ cuenta.saldo | miles }}{{ moneda.simboloMoneda }}
                        </span>
                    </div>

                    <div class="anillas"></div>

                <div class="cabecera">
                    
                    <h2 class="titulo-cuentas">
                        <span class="bold color-text nombreCuenta">{{ cuenta.nombreCuenta }}</span>
                        <span class="color-text"> {{ cuenta.identificador }} / ({{ cuenta.tipo.codigo }}) {{ cuenta.tipo.nombre }}</span>
                    </h2>
    
                    <div class="cantidades">
                        <div class="cantidad">
                            <span class="bold color-text debe">Debe:</span>
                            <span class="cantidad-cuenta" *ngFor="let sumaDebe of cuenta.debe">
                                ({{ sumaDebe.asiento }}) {{ sumaDebe.cantidad | miles }}{{ moneda.simboloMoneda }}
                            </span>
                        </div>
                        <div class="cantidad">
                            <span class="bold color-text haber">Haber:</span>
                            <span class="cantidad-cuenta" *ngFor="let sumaHaber of cuenta.haber">
                                ({{ sumaHaber.asiento }}) {{ sumaHaber.cantidad | miles }}{{ moneda.simboloMoneda }}
                            </span>
                        </div>
                    </div>
    
                    <button type="button" title="Modificar cuenta" class="puntero btn-cuentas"
                        [routerLink]="['/modificar-cuenta', cuenta.id]">
                        <i class="fa-regular fa-pen-to-square"></i>
                    </button>
    
                </div>
                
            </article>
        </div>

        <div class="space" [style.display]="estado"></div>

    </div>


</section>

</div>
